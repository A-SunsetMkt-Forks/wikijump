version: '3.8'

services:
  api:
    volumes:
      # Rust sources
      - type: bind
        source: ../../../deepwell/src
        target: /src/deepwell/src
        read_only: true
      - type: bind
        source: ../../../deepwell/build.rs
        target: /src/deepwell/build.rs
        read_only: true
      - type: bind
        source: ../../../deepwell/Cargo.toml
        target: /src/deepwell/Cargo.toml
        read_only: true
      # Database files
      - type: bind
        source: ../../../deepwell/migrations
        target: /src/deepwell/migrations
      - type: bind
        source: ../../../deepwell/seed
        target: /src/deepwell/seed
      # Translation data
      - type: bind
        source: ../../../locales
        target: /opt/locales
        read_only: true
