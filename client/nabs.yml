# -- UTILITY

build:
  $depend: []
  $action: pnpm --parallel --if-present -r build

  modules: pnpm --filter {modules} --parallel --if-present -r build
  web: pnpm --filter {web} --parallel --if-present -r build

# -- TESTING

test: wtr --playwright

cover: wtr --playwright --coverage

# -- VALIDATION

lint:
  $depend: []
  $action: run-p lint:eslint lint:stylelint lint:prettier
  eslint: eslint "./**/*.js" "./**/*.ts"
  stylelint: stylelint "modules/**/*.scss" "web/**/*.scss"
  prettier: prettier --ignore-unknown --check "modules/**" "web/**"

  fix:
    $depend: []
    $action: run-p lint:fix:eslint lint:fix:stylelint lint:fix:prettier
    eslint: eslint "./**/*.js" "./**/*.ts" --fix
    stylelint: stylelint "modules/**/*.scss" "web/**/*.scss" --fix
    prettier: prettier --write --ignore-unknown "modules/**" "web/**"

typecheck: tsc

validate: run-p lint typecheck

# -- MISC.

dev:dev-sandbox: pnpm --filter dev-sandbox dev
